"use strict";(self.webpackChunkjotai_advanced_forms_docs=self.webpackChunkjotai_advanced_forms_docs||[]).push([[864],{1812:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>m});const r=JSON.parse('{"id":"examples","title":"Examples","description":"Full Name Form Example","source":"@site/docs/examples.md","sourceDirName":".","slug":"/examples","permalink":"/jotai-advanced-forms/docs/examples","draft":false,"unlisted":false,"editUrl":"https://github.com/omnidan/jotai-advanced-forms/tree/main/docs/docs/examples.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"examples","sidebar_position":4,"title":"Examples"},"sidebar":"docs","previous":{"title":"API Reference","permalink":"/jotai-advanced-forms/docs/api"}}');var o=t(3420),s=t(8906);const i={id:"examples",sidebar_position:4,title:"Examples"},a="Examples",l={},m=[{value:"Full Name Form Example",id:"full-name-form-example",level:2},{value:"Resetting Form Fields",id:"resetting-form-fields",level:2},{value:"Resetting the Entire Form",id:"resetting-the-entire-form",level:3},{value:"Resetting Individual Fields",id:"resetting-individual-fields",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"examples",children:"Examples"})}),"\n",(0,o.jsx)(n.h2,{id:"full-name-form-example",children:"Full Name Form Example"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'// state.ts\nimport { createForm } from "jotai-advanced-forms";\n\nconst { formFieldAtom, useForm } = createForm();\nexport { useForm };\n\nexport const firstNameAtom = formFieldAtom<string, "required">({\n  initialState: "",\n  validate: (value) => {\n    if (value.length === 0) return "required";\n  },\n});\n\nexport const lastNameAtom = formFieldAtom<string, undefined>({\n  initialState: "",\n});\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'// StringInput.tsx\nimport type { UseFormFieldProps } from "jotai-advanced-forms";\n\nexport function StringInput({\n  value,\n  onChange,\n  onBlur,\n  ref,\n  hasError,\n  errorCode,\n  errorText,\n}: UseFormFieldProps<string>) {\n  return (\n    <div>\n      <input\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        onBlur={onBlur}\n        ref={ref}\n      />\n      {hasError && (\n        <p>\n          {errorText} ({errorCode})\n        </p>\n      )}\n    </div>\n  );\n}\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'// NameInputForm.tsx\nimport { useFormField } from "jotai-advanced-forms";\nimport { firstNameAtom, lastNameAtom, useForm } from "./state.js";\nimport { StringInput } from "./StringInput.js";\n\nexport function NameInputForm() {\n  const firstNameField = useFormField({\n    atom: firstNameAtom,\n    errors: {\n      required: "First name is required!",\n    },\n  });\n\n  const lastNameField = useFormField({\n    atom: lastNameAtom,\n  });\n\n  const { submitForm, isSubmitting } = useForm({\n    onValid: () => alert("success!"),\n  });\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    submitForm();\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <StringInput {...firstNameField} />\n      <StringInput {...lastNameField} />\n      <input type="submit" value="Submit" disabled={isSubmitting} />\n    </form>\n  );\n}\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"resetting-form-fields",children:"Resetting Form Fields"}),"\n",(0,o.jsx)(n.h3,{id:"resetting-the-entire-form",children:"Resetting the Entire Form"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'// state.ts\nimport { createForm } from "jotai-advanced-forms";\n\nconst { formFieldAtom, useForm } = createForm();\nexport { useForm };\n\nexport const emailField = formFieldAtom<string>({\n  initialState: "",\n});\n\nexport const passwordField = formFieldAtom<string>({\n  initialState: "",\n});\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'// LoginForm.tsx\nimport { useAtom } from "jotai";\nimport { emailField, passwordField, useForm } from "./state.js";\n\nexport function LoginForm() {\n  const [email, setEmail] = useAtom(emailField);\n  const [password, setPassword] = useAtom(passwordField);\n\n  const { submitForm, resetForm, isSubmitting } = useForm({\n    onValid: async () => {\n      await login(email.value, password.value);\n    },\n  });\n\n  return (\n    <form\n      onSubmit={(e) => {\n        e.preventDefault();\n        submitForm();\n      }}\n    >\n      <input\n        type="email"\n        value={email.value}\n        onChange={(e) => setEmail(e.target.value)}\n        placeholder="Email"\n      />\n      <input\n        type="password"\n        value={password.value}\n        onChange={(e) => setPassword(e.target.value)}\n        placeholder="Password"\n      />\n      <button type="submit" disabled={isSubmitting}>\n        Login\n      </button>\n      <button type="button" onClick={resetForm}>\n        Clear Form\n      </button>\n    </form>\n  );\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"resetting-individual-fields",children:"Resetting Individual Fields"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'import { useAtom } from "jotai";\nimport { useResetAtom } from "jotai/utils";\nimport { createForm } from "jotai-advanced-forms";\n\nconst { formFieldAtom } = createForm();\n\nconst searchField = formFieldAtom<string>({\n  initialState: "",\n});\n\nexport function SearchBar() {\n  const [search, setSearch] = useAtom(searchField);\n  const resetSearch = useResetAtom(searchField);\n\n  return (\n    <div>\n      <input\n        value={search.value}\n        onChange={(e) => setSearch(e.target.value)}\n        placeholder="Search..."\n      />\n      <button onClick={resetSearch}>Clear</button>\n    </div>\n  );\n}\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["See the ",(0,o.jsx)(n.a,{href:"./api",children:"API Reference"})," for more details."]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8906:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var r=t(6672);const o={},s=r.createContext(o);function i(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);